<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Unischooly Trial Dashboard</title>

<!-- SUPABASE -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<style>
:root{
  --bg:#060b18;
  --card:#0c1730;
  --border:rgba(255,255,255,0.08);
  --grad:linear-gradient(135deg,#ff5fd8,#6cb8ff);
  --gold:#ffe39a;
}

*{box-sizing:border-box;font-family:Inter,system-ui,-apple-system,BlinkMacSystemFont,sans-serif}
body{margin:0;background:radial-gradient(circle at top,#1b2450 0%,#060b18 55%);color:#fff}

/* SECTION 1 */
.header{
  max-width:1200px;
  margin:0 auto;
  padding:16px;
  display:flex;
  align-items:center;
  justify-content:space-between;
}
.header img{height:36px}
.locked{
  background:var(--grad);
  padding:8px 14px;
  border-radius:999px;
  font-weight:600;
  font-size:14px;
}

/* LAYOUT */
.wrapper{
  max-width:1200px;
  margin:0 auto;
  padding:16px;
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:20px;
}
@media(max-width:900px){
  .wrapper{grid-template-columns:1fr}
}

/* PASS CARD */
.pass{
  background:linear-gradient(180deg,#101b38,#081127);
  border:1px solid var(--border);
  border-radius:18px;
  padding:20px;
  position:relative;
  box-shadow:0 0 0 rgba(255,255,255,0);
  transition:.3s;
}
.pass:hover{box-shadow:0 0 25px rgba(255,255,255,.12)}
.pass-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  background:var(--gold);
  color:#000;
  padding:10px 14px;
  border-radius:999px;
  font-weight:800;
}
.stamp{
  position:absolute;
  top:72px;
  right:16px;
  transform:rotate(-12deg);
  border:2px dashed var(--gold);
  padding:6px 10px;
  color:var(--gold);
  font-weight:800;
}
.grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:14px;
  margin-top:18px;
}
.label{color:#9fb0ff;font-size:12px}
.value{font-weight:600}
.full{grid-column:1/3}
.footer{text-align:center;margin-top:14px;color:#9aa3c7;font-size:12px}

/* SCHEDULE */
.schedule{
  margin-top:18px;
  background:rgba(255,255,255,.03);
  border-radius:14px;
  padding:14px;
}
.row{
  display:flex;
  align-items:center;
  gap:12px;
  margin-bottom:10px;
}
.box{
  flex:1;
  background:rgba(255,255,255,.04);
  padding:12px;
  border-radius:12px;
}
.sync{
  margin-top:10px;
  width:100%;
  background:var(--grad);
  border:none;
  border-radius:999px;
  padding:14px;
  font-weight:700;
  cursor:pointer;
}

/* RIGHT */
.right{
  background:linear-gradient(180deg,#0d1734,#070e22);
  border-radius:18px;
  padding:20px;
  border:1px solid var(--border);
}
.timer{
  display:flex;
  gap:10px;
  margin:14px 0;
}
.tbox{
  flex:1;
  background:rgba(255,255,255,.05);
  border-radius:12px;
  padding:12px;
  text-align:center;
}
.join{
  width:100%;
  margin-top:10px;
  background:var(--grad);
  border:none;
  padding:14px;
  border-radius:999px;
  font-weight:700;
  cursor:pointer;
}
.small{font-size:12px;color:#b8c1ff}

/* MOBILE */
@media(max-width:600px){
  .pass-header{flex-direction:column;gap:6px}
  .stamp{top:96px}
}
</style>
</head>

<body>

<!-- SECTION 1 -->
<div class="header">
  <img src="https://res.cloudinary.com/dpapyknn4/image/upload/v1763143023/Unischooly_Horizontal_logo_qbu1l7.svg"/>
  <div class="locked">âœ… Your trial class is locked in!</div>
</div>

<!-- SECTION 2 -->
<div class="wrapper">

  <!-- LEFT -->
  <div>
    <div class="pass">
      <div class="pass-header">
        ðŸŽ« OFFICIAL FREE TRIAL PASS
        <span>[ VALUE: $30 â€“ WAIVED ]</span>
      </div>

      <div class="stamp">VALUE WAIVED</div>

      <div class="grid">
        <div>
          <div class="label">Student Name</div>
          <div class="value" id="child_name">â€”</div>
        </div>
        <div>
          <div class="label">Grade</div>
          <div class="value" id="child_grade">â€”</div>
        </div>
        <div>
          <div class="label">Parent Name</div>
          <div class="value" id="parent_name">â€”</div>
        </div>
        <div>
          <div class="label">Parent Phone</div>
          <div class="value" id="parent_phone">â€”</div>
        </div>
        <div class="full">
          <div class="label">Course</div>
          <div class="value" id="course_name">â€”</div>
        </div>
      </div>

      <div class="footer">Powered by Unischooly</div>
    </div>

    <div class="schedule">
      <div class="row">
        ðŸš€ <strong>Ready for Blast Off!!!</strong>
      </div>
      <div class="row">
        <div class="box" id="demo_date">Date</div>
        <div class="box" id="demo_time">Time</div>
      </div>
      <button class="sync">ðŸ“… Initiate Calendar Sync</button>
    </div>
  </div>

  <!-- RIGHT -->
  <div class="right">
    <h2 id="welcome">Welcome to your Trial Class</h2>
    <div class="timer">
      <div class="tbox"><div id="d">0</div><small>Days</small></div>
      <div class="tbox"><div id="h">0</div><small>Hours</small></div>
      <div class="tbox"><div id="m">0</div><small>Min</small></div>
      <div class="tbox"><div id="s">0</div><small>Sec</small></div>
    </div>
    <button class="join">â–¶ Join Class</button>
    <p class="small">By clicking join class, you agree to <u>Terms & Conditions</u></p>
  </div>

</div>

<script>
const SUPABASE_URL = "https://binklfyiypbhuzsvnlzg.supabase.co";
const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJpbmtsZnlpeXBiaHV6c3ZubHpnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUwMzA5NjgsImV4cCI6MjA4MDYwNjk2OH0.PYCRN7ubQA2XnVy8BYd6746iAGATjBuBAlvsCdLdbqw";
const supabase = window.supabase.createClient(SUPABASE_URL,SUPABASE_KEY);

(async()=>{
 const id = new URLSearchParams(location.search).get("iduuid");
 if(!id) return;
 const {data}=await supabase.from("demo_leads").select("*").eq("id",id).single();
 if(!data) return;

 child_name.textContent=data.child_name;
 child_grade.textContent=data.child_grade;
 parent_name.textContent=data.parent_name;
 parent_phone.textContent=`${data.phone_country_code||""} ${data.phone_number}`;
 course_name.textContent=data.course_id==1?"Coding Trial Class":"Trial Class";
 welcome.textContent=`Welcome to ${data.child_name}'s Trial Class`;
 demo_date.textContent=data.preferred_date||"â€”";
 demo_time.textContent=data.preferred_time_slot||"â€”";
})();
</script>

</body>
</html>
