
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Unischooly ‚Äì Book Free Coding Trial</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

  <!-- intl-tel-input -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/18.5.6/css/intlTelInput.css" />

  <style>
    :root {
      --bg-main: #050818;
      --bg-card: #0b1020;
      --bg-card-soft: #0f172a;
      --accent-1: #ff6ad5;
      --accent-2: #4be1ff;
      --accent-3: #8b5cff;
      --accent-4: #facc15;
      --border-subtle: rgba(148, 163, 184, 0.35);
      --text-main: #e5e7eb;
      --text-soft: #9ca3af;
      --error-bg: rgba(248, 113, 113, 0.12);
      --error-border: rgba(248, 113, 113, 0.7);
      --success-bg: rgba(52, 211, 153, 0.1);
      --success-border: rgba(52, 211, 153, 0.6);
      --radius-2xl: 24px;
      --shadow-soft: 0 30px 80px rgba(15, 23, 42, 0.75);
      --gradient-cta: linear-gradient(90deg, #ff6ad5, #ff9a62, #4be1ff);
      --gradient-pill: radial-gradient(circle at 0 0, rgba(248, 250, 252, 0.12), transparent 55%);
    }

    *,
    *::before,
    *::after {
      box-sizing: border-box;
    }

    html,
    body {
      margin: 0;
      padding: 0;
      font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #1e293b 0, #020617 55%);
      color: var(--text-main);
      min-height: 100%;
    }

    body {
      padding: 24px 16px 40px;
    }

    .page-shell {
      max-width: 1440px;
      margin: 0 auto;
    }

    /* HEADER ------------------------------------------------------------ */

    .site-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 24px;
      gap: 16px;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .brand-logo {
      width: 40px;
      height: 40px;
      border-radius: 999px;
      background: conic-gradient(from 210deg, #ff6ad5, #ffb347, #4be1ff, #8b5cff, #ff6ad5);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 10px 30px rgba(15, 23, 42, 0.8);
    }

    .brand-logo span {
      font-size: 20px;
      font-weight: 800;
      color: #020617;
    }

    .brand-text-title {
      font-weight: 700;
      font-size: 20px;
    }

    .brand-text-subtitle {
      font-size: 12px;
      color: var(--text-soft);
    }

    .nav {
      display: flex;
      align-items: center;
      gap: 20px;
      font-size: 14px;
      color: var(--text-soft);
    }

    .nav a {
      color: inherit;
      text-decoration: none;
      padding: 4px 0;
    }

    .nav a:hover {
      color: #e5e7eb;
    }

    .nav-cta {
      padding: 10px 22px;
      border-radius: 999px;
      background: var(--gradient-cta);
      border: none;
      color: #0b1020;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
      box-shadow: 0 18px 60px rgba(248, 250, 252, 0.28);
      cursor: pointer;
    }

    .nav-cta span {
      font-size: 18px;
    }

    /* MAIN LAYOUT ------------------------------------------------------ */

    .hero-grid {
      display: grid;
      grid-template-columns: minmax(0, 1.2fr) minmax(0, 1.05fr);
      gap: 32px;
      align-items: flex-start;
    }

    @media (max-width: 1024px) {
      .hero-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    /* LEFT: HERO ------------------------------------------------------- */

    .eyebrow-row {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 10px;
      margin-bottom: 18px;
    }

    .eyebrow-pill {
      padding: 4px 12px;
      border-radius: 999px;
      font-size: 11px;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(148, 163, 184, 0.4);
      color: #cbd5f5;
    }

    .eyebrow-dot-live {
      width: 7px;
      height: 7px;
      border-radius: 50%;
      background: #22c55e;
      box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.36);
    }

    .hero-title {
      font-size: clamp(40px, 5vw, 52px);
      line-height: 1.05;
      margin: 0 0 14px;
      font-weight: 800;
      letter-spacing: -0.03em;
    }

    .hero-title span:nth-child(2) {
      background: linear-gradient(90deg, #ff6ad5, #ffb347);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .hero-title span:nth-child(4) {
      background: linear-gradient(90deg, #4be1ff, #8b5cff);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .hero-subtitle {
      margin: 0 0 20px;
      color: var(--text-soft);
      max-width: 640px;
      font-size: 15px;
    }

    .hero-badges {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 20px;
    }

    .hero-chip {
      font-size: 12px;
      padding: 6px 11px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      background: rgba(15, 23, 42, 0.8);
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .hero-chip span {
      font-size: 14px;
    }

    .hero-main-card {
      margin-top: 8px;
      border-radius: var(--radius-2xl);
      padding: 22px 22px 24px;
      background:
        radial-gradient(circle at top left, rgba(96, 165, 250, 0.32), transparent 55%),
        radial-gradient(circle at bottom right, rgba(192, 132, 252, 0.32), transparent 55%),
        linear-gradient(145deg, #020617, #020617);
      border: 1px solid rgba(148, 163, 184, 0.5);
      box-shadow: var(--shadow-soft);
      position: relative;
      overflow: hidden;
    }

    .hero-main-card::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at top center, rgba(248, 250, 252, 0.06), transparent 55%);
      pointer-events: none;
    }

    .hero-main-title {
      font-size: 20px;
      font-weight: 700;
      margin: 0 0 12px;
    }

    .hero-main-title span {
      color: #f97316;
    }

    .hero-main-list {
      list-style: none;
      padding: 0;
      margin: 0 0 18px;
      font-size: 13px;
    }

    .hero-main-list li {
      display: flex;
      align-items: flex-start;
      gap: 8px;
      margin-bottom: 8px;
      color: #e5e7eb;
    }

    .hero-main-list li span.icon {
      font-size: 16px;
      margin-top: 1px;
    }

    .hero-main-metrics {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      font-size: 12px;
    }

    .metric-pill {
      padding: 7px 12px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      background: rgba(15, 23, 42, 0.86);
      display: flex;
      align-items: center;
      gap: 6px;
      color: #e5e7eb;
    }

    .metric-pill span.value {
      font-weight: 600;
    }

    /* RIGHT: FORM ------------------------------------------------------ */

    .form-card {
      border-radius: var(--radius-2xl);
      padding: 20px 22px 22px;
      background: radial-gradient(circle at top left, rgba(59, 130, 246, 0.25), transparent 60%),
                  radial-gradient(circle at bottom right, rgba(244, 114, 182, 0.18), transparent 55%),
                  #020617;
      border: 1px solid rgba(148, 163, 184, 0.55);
      box-shadow: var(--shadow-soft);
      max-width: 540px;
      margin-left: auto;
      backdrop-filter: blur(18px);
    }

    .form-header-row {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 16px;
      margin-bottom: 10px;
    }

    .form-header-title {
      font-size: 18px;
      font-weight: 600;
    }

    .form-header-subtitle {
      font-size: 12px;
      color: var(--text-soft);
    }

    .step-indicator {
      text-align: right;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--text-soft);
    }

    .step-indicator-bars {
      margin-top: 8px;
      display: flex;
      gap: 6px;
      justify-content: flex-end;
    }

    .step-bar {
      flex: 1;
      height: 4px;
      border-radius: 999px;
      background: rgba(30, 64, 175, 0.9);
      overflow: hidden;
    }

    .step-bar-inner {
      height: 100%;
      border-radius: inherit;
      background: var(--gradient-cta);
      transform-origin: left center;
      transform: scaleX(0);
      transition: transform 220ms ease-out;
    }

    .step-bar--active .step-bar-inner {
      transform: scaleX(1);
    }

    .step-bar--done {
      background: rgba(16, 185, 129, 0.65);
    }

    .step-bar--done .step-bar-inner {
      transform: scaleX(1);
      background: rgba(34, 197, 94, 0.9);
    }

    .alert-banner {
      display: none;
      margin-bottom: 12px;
      padding: 8px 10px;
      border-radius: 999px;
      font-size: 12px;
      border: 1px solid transparent;
      align-items: center;
      gap: 8px;
    }

    .alert-banner.show {
      display: flex;
    }

    .alert-error {
      background: var(--error-bg);
      border-color: var(--error-border);
      color: #fecaca;
    }

    .alert-success {
      background: var(--success-bg);
      border-color: var(--success-border);
      color: #bbf7d0;
    }

    .alert-banner span.icon {
      font-size: 14px;
    }

    .form-body {
      border-radius: 18px;
      padding: 16px 16px 18px;
      background: radial-gradient(circle at top left, rgba(15, 23, 42, 0.9), rgba(15, 23, 42, 0.96));
      border: 1px solid rgba(148, 163, 184, 0.65);
    }

    .form-section-title {
      font-size: 13px;
      font-weight: 600;
      margin-bottom: 3px;
    }

    .form-section-subtitle {
      font-size: 11px;
      color: var(--text-soft);
      margin-bottom: 10px;
    }

    .field-grid-two {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 10px 12px;
    }

    .field-grid-two + .field-grid-two {
      margin-top: 10px;
    }

    .field {
      display: flex;
      flex-direction: column;
      gap: 4px;
      margin-bottom: 10px;
    }

    .field label {
      font-size: 12px;
      color: #cbd5f5;
    }

    .field-hint {
      font-size: 10px;
      color: var(--text-soft);
    }

    .input,
    select {
      width: 100%;
      border-radius: 999px;
      border: 1px solid var(--border-subtle);
      padding: 9px 13px;
      font-size: 13px;
      background: rgba(15, 23, 42, 0.9);
      color: var(--text-main);
      outline: none;
      transition: border-color 0.15s ease, box-shadow 0.15s ease, background 0.15s ease;
    }

    .input::placeholder {
      color: rgba(148, 163, 184, 0.8);
    }

    .input:focus,
    select:focus {
      border-color: #60a5fa;
      box-shadow: 0 0 0 1px rgba(96, 165, 250, 0.6);
      background: #020617;
    }

    select {
      appearance: none;
      -webkit-appearance: none;
      background-image: linear-gradient(45deg, transparent 50%, #9ca3af 50%),
        linear-gradient(135deg, #9ca3af 50%, transparent 50%);
      background-position: calc(100% - 15px) 10px, calc(100% - 10px) 10px;
      background-size: 5px 5px, 5px 5px;
      background-repeat: no-repeat;
      padding-right: 30px;
    }

    .toggle-group {
      display: inline-flex;
      padding: 3px;
      border-radius: 999px;
      background: radial-gradient(circle at top left, rgba(15, 23, 42, 0.9), #020617);
      border: 1px solid var(--border-subtle);
      gap: 4px;
      font-size: 12px;
      margin-top: 4px;
    }

    .toggle-pill {
      border-radius: 999px;
      padding: 6px 14px;
      border: none;
      background: transparent;
      color: var(--text-soft);
      display: inline-flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
    }

    .toggle-pill span.icon {
      font-size: 14px;
    }

    .toggle-pill.active {
      background: var(--gradient-cta);
      color: #020617;
      box-shadow: 0 10px 30px rgba(248, 250, 252, 0.28);
    }

    /* CTA -------------------------------------------------------------- */

    .cta-wrapper {
      margin-top: 16px;
      text-align: center;
    }

    .cta-button {
      width: 100%;
      border-radius: 999px;
      padding: 12px 22px;
      font-size: 15px;
      font-weight: 600;
      border: none;
      background: var(--gradient-cta);
      color: #020617;
      box-shadow: 0 18px 60px rgba(248, 250, 252, 0.3);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      cursor: pointer;
    }

    .cta-button span.icon {
      font-size: 18px;
    }

    .cta-note {
      margin-top: 5px;
      font-size: 10px;
      color: var(--text-soft);
    }

    /* STEP 2 ----------------------------------------------------------- */

    .step-nav-back {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 11px;
      color: var(--text-soft);
      cursor: pointer;
      margin-bottom: 10px;
    }

    .date-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 12px;
    }

    .date-pill {
      flex: 1 1 120px;
      min-width: 120px;
      border-radius: 18px;
      padding: 10px 11px;
      border: 1px solid rgba(148, 163, 184, 0.55);
      background: rgba(15, 23, 42, 0.9);
      cursor: pointer;
      text-align: left;
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .date-pill span.label {
      font-size: 11px;
      color: var(--text-soft);
    }

    .date-pill span.value {
      font-size: 14px;
      font-weight: 600;
    }

    .date-pill.active {
      border-color: #60a5fa;
      box-shadow: 0 0 0 1px rgba(56, 189, 248, 0.9);
      background: radial-gradient(circle at top left, rgba(59, 130, 246, 0.28), rgba(15, 23, 42, 0.95));
    }

    .time-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 10px;
      margin-bottom: 14px;
    }

    @media (max-width: 768px) {
      .time-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    .time-pill {
      border-radius: 18px;
      padding: 9px 11px;
      border: 1px solid rgba(148, 163, 184, 0.55);
      background: rgba(15, 23, 42, 0.94);
      cursor: pointer;
      font-size: 12px;
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .time-main-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 4px;
    }

    .time-pill span.time {
      font-weight: 600;
    }

    .time-pill span.tag {
      font-size: 10px;
      padding: 2px 7px;
      border-radius: 999px;
      background: rgba(250, 204, 21, 0.12);
      color: #facc15;
      border: 1px solid rgba(250, 204, 21, 0.6);
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .time-pill span.tag span.star {
      font-size: 11px;
    }

    .time-pill span.meta {
      font-size: 10px;
      color: var(--text-soft);
    }

    .time-pill.active {
      border-color: #60a5fa;
      box-shadow: 0 0 0 1px rgba(56, 189, 248, 0.9);
      background: radial-gradient(circle at top left, rgba(59, 130, 246, 0.28), rgba(15, 23, 42, 0.96));
    }

    .language-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 4px;
    }

    .language-pill {
      padding: 6px 12px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.55);
      font-size: 12px;
      cursor: pointer;
      background: rgba(15, 23, 42, 0.95);
      color: var(--text-soft);
    }

    .language-pill.active {
      border-color: #60a5fa;
      box-shadow: 0 0 0 1px rgba(56, 189, 248, 0.9);
      color: #e5e7eb;
      background: radial-gradient(circle at top left, rgba(59, 130, 246, 0.34), rgba(15, 23, 42, 0.96));
    }

    /* STEP 3 ----------------------------------------------------------- */

    .choice-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 12px;
    }

    .choice-pill {
      padding: 7px 13px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      font-size: 12px;
      cursor: pointer;
      background: rgba(15, 23, 42, 0.95);
      color: var(--text-soft);
    }

    .choice-pill.active {
      border-color: #60a5fa;
      color: #e5e7eb;
      box-shadow: 0 0 0 1px rgba(56, 189, 248, 0.95);
      background: radial-gradient(circle at top left, rgba(59, 130, 246, 0.3), rgba(15, 23, 42, 0.98));
    }

    /* intl-tel-input dark theme --------------------------------------- */

    .iti {
      width: 100%;
    }

    .iti__flag-container {
      background: rgba(15, 23, 42, 0.98);
      border-radius: 999px 0 0 999px;
      border: 1px solid var(--border-subtle);
      border-right: none;
    }

    .iti input[type="tel"] {
      background: rgba(15, 23, 42, 0.98);
      border-radius: 0 999px 999px 0;
      border: 1px solid var(--border-subtle);
      border-left: none;
      color: var(--text-main);
      padding-left: 10px;
    }

    .iti input[type="tel"]::placeholder {
      color: rgba(148, 163, 184, 0.85);
    }

    .iti__country-list {
      background: #020617;
      color: var(--text-main);
    }

    .iti__country.iti__highlight {
      background: rgba(51, 65, 85, 0.9);
    }

    .iti__dial-code {
      color: var(--text-soft);
    }

    .phone-row {
      display: grid;
      grid-template-columns: minmax(0, 1.4fr) minmax(0, 1.3fr);
      gap: 10px;
      align-items: center;
    }

    @media (max-width: 640px) {
      body {
        padding: 18px 12px 32px;
      }
      .site-header {
        flex-direction: column;
        align-items: flex-start;
      }
      .form-card {
        max-width: 100%;
      }
      .phone-row {
        grid-template-columns: minmax(0, 1fr);
      }
    }
  </style>
</head>
<body>
  <div class="page-shell">
    <!-- HEADER -->
    <header class="site-header">
      <div class="brand">
        <div class="brand-logo"><span>U</span></div>
        <div>
          <div class="brand-text-title">Unischooly</div>
          <div class="brand-text-subtitle">Future-ready skills for kids</div>
        </div>
      </div>
      <nav class="nav">
        <a href="#programs">Programs</a>
        <a href="#how-it-works">How it works</a>
        <a href="#reviews">Parent reviews</a>
        <button class="nav-cta" type="button">
          <span>‚ö°</span>
          <span>Book Free Trial</span>
        </button>
      </nav>
    </header>

    <main class="hero-grid">
      <!-- LEFT HERO -->
      <section>
        <div class="eyebrow-row">
          <div class="eyebrow-pill">
            <span class="eyebrow-dot-live"></span>
            LIVE 1:1 Free Trial
          </div>
          <div class="eyebrow-pill">Limited daily slots</div>
        </div>

        <h1 class="hero-title">
          <span>Book</span>
          <span>Now</span>
          <span>&amp;</span>
          <span>Get Certified</span>
        </h1>
        <p class="hero-subtitle">
          Share your details, pick a slot in your child's local time, and we'll match you with a certified
          Unischooly teacher for a personalised 1:1 coding trial class.
        </p>

        <div class="hero-badges">
          <div class="hero-chip"><span>üåç</span>Kids in 30+ countries</div>
          <div class="hero-chip"><span>üöÄ</span>Live 1:1 project class</div>
          <div class="hero-chip"><span>üèÖ</span>Certificate after demo</div>
        </div>

        <div class="hero-main-card">
          <h2 class="hero-main-title">Free Live Coding Class for <span>Your Child</span></h2>
          <ul class="hero-main-list">
            <li><span class="icon">‚úÖ</span><span>Personalised 45-minute 1:1 session aligned to your child's grade &amp; interest.</span></li>
            <li><span class="icon">‚úÖ</span><span>Hands-on live project inside the class ‚Äî no boring slides.</span></li>
            <li><span class="icon">‚úÖ</span><span>Detailed class report &amp; digital certificate shared on WhatsApp &amp; email.</span></li>
          </ul>
          <div class="hero-main-metrics">
            <div class="metric-pill"><span class="value">25,000+</span><span>kids taught</span></div>
            <div class="metric-pill"><span class="value">45 mins</span><span>live class</span></div>
            <div class="metric-pill"><span class="value">4.8‚òÖ</span><span>avg parent rating</span></div>
          </div>
        </div>
      </section>

      <!-- RIGHT FORM -->
      <section>
        <div class="form-card" id="booking-card">
          <div id="alert-error" class="alert-banner alert-error">
            <span class="icon">‚ö†Ô∏è</span>
            <span id="alert-error-text">Unable to save your details. Please try again in a moment.</span>
          </div>
          <div id="alert-success" class="alert-banner alert-success">
            <span class="icon">‚ú®</span>
            <span id="alert-success-text">Your preferences are saved. Final step!</span>
          </div>

          <div class="form-header-row">
            <div>
              <div class="form-header-title">Free Live Coding Class for Your Child</div>
              <div class="form-header-subtitle">
                Three quick steps to unlock a personalised free trial class.
              </div>
            </div>
            <div class="step-indicator">
              <div id="step-label">STEP 1 OF 3</div>
              <div class="step-indicator-bars">
                <div class="step-bar step-bar--active" data-step-bar="1"><div class="step-bar-inner"></div></div>
                <div class="step-bar" data-step-bar="2"><div class="step-bar-inner"></div></div>
                <div class="step-bar" data-step-bar="3"><div class="step-bar-inner"></div></div>
              </div>
            </div>
          </div>

          <div class="form-body" id="form-step-1">
            <div class="form-section-title">Book Now &amp; Get Certified</div>
            <div class="form-section-subtitle">
              Share your details to unlock a personalised free trial class.
            </div>

            <div class="field">
              <label>WhatsApp Number</label>
              <div class="phone-row">
                <input id="whatsapp-input" type="tel" />
                <div class="field">
                  <label>We'll send class link &amp; updates here</label>
                  <input id="phone-number-only" class="input" type="text" placeholder="10‚Äì12 digit number" />
                </div>
              </div>
              <div class="field-hint">Please share the number that you use for WhatsApp.</div>
            </div>

            <div class="field-grid-two">
              <div class="field">
                <label>Child's Name</label>
                <input id="child-name" class="input" type="text" placeholder="E.g. Aarav, Emma" />
              </div>
              <div class="field">
                <label>Select Child's Grade</label>
                <select id="child-grade">
                  <option value="">Select grade</option>
                  <option>Grade 1</option><option>Grade 2</option><option>Grade 3</option><option>Grade 4</option>
                  <option>Grade 5</option><option>Grade 6</option><option>Grade 7</option><option>Grade 8</option>
                  <option>Grade 9</option><option>Grade 10</option><option>Grade 11</option><option>Grade 12</option>
                </select>
              </div>
            </div>

            <div class="field-grid-two">
              <div class="field">
                <label>Parent's / Guardian Name</label>
                <input id="parent-name" class="input" type="text" placeholder="Parent / Guardian full name" />
              </div>
              <div class="field">
                <label>Parent's Email</label>
                <input id="parent-email" class="input" type="email" placeholder="We will send confirmation here" />
              </div>
            </div>

            <div class="field">
              <label>Do you have a Laptop / Desktop?</label>
              <div class="toggle-group" id="laptop-toggle">
                <button type="button" class="toggle-pill active" data-value="Yes">
                  <span class="icon">üíª</span><span>Yes</span>
                </button>
                <button type="button" class="toggle-pill" data-value="No">
                  <span class="icon">üì±</span><span>No (Tablet / Mobile only)</span>
                </button>
              </div>
            </div>

            <div class="cta-wrapper">
              <button id="btn-step-1" class="cta-button" type="button">
                <span class="icon">üöÄ</span>
                <span>Book a Free Trial Class</span>
              </button>
              <div class="cta-note">
                Note: We will share the class link &amp; certificate on Email &amp; WhatsApp.
              </div>
            </div>
          </div>

          <!-- STEP 2 -->
          <div class="form-body" id="form-step-2" style="display:none;">
            <div class="step-nav-back" data-back-to="1">‚Üê Back to details</div>
            <div class="form-section-title">Select Date &amp; Time</div>
            <div class="form-section-subtitle">
              Choose a slot that works in your child's local time. Your class will be for 1 hour.
            </div>

            <div class="field">
              <label>Select Date <span id="date-range-label" style="color:var(--text-soft);font-weight:400;margin-left:4px;"></span></label>
              <div class="field-hint">Your class will be for 1 hour.</div>
              <div class="date-row" id="date-row"></div>
            </div>

            <div class="field">
              <label>Select Start Time</label>
              <div class="field-hint">Class slots are limited. Times are shown in your local time zone.</div>
              <div class="time-grid" id="time-grid"></div>
            </div>

            <div class="field">
              <label>Select Language</label>
              <div class="language-row" id="language-row">
                <button type="button" class="language-pill active" data-lang="english">English</button>
                <button type="button" class="language-pill" data-lang="arabic">Arabic</button>
                <button type="button" class="language-pill" data-lang="bahasa">Bahasa</button>
                <button type="button" class="language-pill" data-lang="vietnamese">Vietnamese</button>
                <button type="button" class="language-pill" data-lang="filipino">Filipino</button>
                <button type="button" class="language-pill" data-lang="thai">Thai</button>
              </div>
            </div>

            <div class="cta-wrapper">
              <button id="btn-step-2" class="cta-button" type="button">
                <span class="icon">‚ú®</span>
                <span>Confirm Class Time</span>
              </button>
              <div class="cta-note">
                Note: Free class will be conducted by reputed teachers.<br />
                By continuing I agree to be contacted by Unischooly via WhatsApp / Phone / Email for this booking.
              </div>
            </div>
          </div>

          <!-- STEP 3 -->
          <div class="form-body" id="form-step-3" style="display:none;">
            <div class="step-nav-back" data-back-to="2">‚Üê Back to time selection</div>
            <div class="form-section-title">Help us personalise your experience</div>

            <div class="field">
              <label>Who are you?</label>
              <div class="choice-grid" id="who-row">
                <button type="button" class="choice-pill" data-value="Parent">Parent</button>
                <button type="button" class="choice-pill" data-value="Student">Student</button>
                <button type="button" class="choice-pill" data-value="Guardian">Guardian</button>
              </div>
            </div>

            <div class="field">
              <label>Why are you booking this trial class?</label>
              <div class="choice-grid" id="reason-row">
                <button type="button" class="choice-pill" data-value="Want to buy course">Want to buy course</button>
                <button type="button" class="choice-pill" data-value="To Compare Platform">To Compare Platform</button>
                <button type="button" class="choice-pill" data-value="To strengthen Concept">To strengthen Concept</button>
                <button type="button" class="choice-pill" data-value="Just for free demo">Just for free demo</button>
              </div>
            </div>

            <div class="field">
              <label>When are you planning to purchase?</label>
              <div class="choice-grid" id="timeline-row">
                <button type="button" class="choice-pill" data-value="After the Demo">After the Demo</button>
                <button type="button" class="choice-pill" data-value="This Week">This Week</button>
                <button type="button" class="choice-pill" data-value="This Month">This Month</button>
                <button type="button" class="choice-pill" data-value="Just Exploring">Just Exploring</button>
              </div>
            </div>

            <div class="cta-wrapper">
              <button id="btn-step-3" class="cta-button" type="button">
                <span class="icon">‚úÖ</span>
                <span>Submit</span>
              </button>
              <div class="cta-note">
                You will be redirected to the confirmation page after submission.
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- Supabase & intl-tel-input -->
  <script type="module">
    import { createClient } from "https://esm.sh/@supabase/supabase-js@2";

    const SUPABASE_URL = "https://binklfyiypbhuzsvnlzg.supabase.co";
    const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJpbmtsZnlpeXBiaHV6c3ZubHpnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUwMzA5NjgsImV4cCI6MjA4MDYwNjk2OH0.PYCRN7ubQA2XnVy8BYd6746iAGATjBuBAlvsCdLdbqw";

    const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

    // ---------- UI helpers ----------
    const alertError = document.getElementById("alert-error");
    const alertErrorText = document.getElementById("alert-error-text");
    const alertSuccess = document.getElementById("alert-success");
    const alertSuccessText = document.getElementById("alert-success-text");

    function showError(msg) {
      alertErrorText.textContent = msg;
      alertError.classList.add("show");
      setTimeout(() => alertError.classList.remove("show"), 5000);
    }

    function showSuccess(msg) {
      alertSuccessText.textContent = msg;
      alertSuccess.classList.add("show");
      setTimeout(() => alertSuccess.classList.remove("show"), 5000);
    }

    function setStep(step) {
      const stepLabel = document.getElementById("step-label");
      stepLabel.textContent = `STEP ${step} OF 3`;

      for (let i = 1; i <= 3; i++) {
        const bar = document.querySelector(`[data-step-bar="${i}"]`);
        bar.classList.remove("step-bar--active", "step-bar--done");
        if (i < step) {
          bar.classList.add("step-bar--done");
        } else if (i === step) {
          bar.classList.add("step-bar--active");
        }
      }

      document.getElementById("form-step-1").style.display = step === 1 ? "block" : "none";
      document.getElementById("form-step-2").style.display = step === 2 ? "block" : "none";
      document.getElementById("form-step-3").style.display = step === 3 ? "block" : "none";
    }

    document.querySelectorAll(".step-nav-back").forEach(el => {
      el.addEventListener("click", () => {
        const backTo = parseInt(el.dataset.backTo, 10);
        setStep(backTo);
      });
    });

    // ---------- intl-tel-input (needs window.iti) ----------
    import "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/18.5.6/js/intlTelInput.min.js";

    const whatsappInput = document.getElementById("whatsapp-input");
    const iti = window.intlTelInput(whatsappInput, {
      initialCountry: "auto",
      preferredCountries: ["us", "gb", "ae", "sa", "in", "ca"],
      geoIpLookup: callback => {
        fetch("https://ipapi.co/json/")
          .then(res => res.json())
          .then(data => callback(data.country_code ? data.country_code.toLowerCase() : "in"))
          .catch(() => callback("in"));
      },
      utilsScript: "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/18.5.6/js/utils.js"
    });

    // ---------- Laptop toggle ----------
    let hasLaptop = "Yes";
    document.getElementById("laptop-toggle").addEventListener("click", e => {
      const pill = e.target.closest(".toggle-pill");
      if (!pill) return;
      hasLaptop = pill.dataset.value;
      document.querySelectorAll("#laptop-toggle .toggle-pill").forEach(btn => btn.classList.remove("active"));
      pill.classList.add("active");
    });

    // ---------- Step 1 SUBMIT ----------
    let leadRow = null; // store row for later updates
    let selectedSlotId = null;
    let selectedLanguage = "english";

    document.getElementById("btn-step-1").addEventListener("click", async () => {
      const childName = document.getElementById("child-name").value.trim();
      const grade = document.getElementById("child-grade").value;
      const parentName = document.getElementById("parent-name").value.trim();
      const parentEmail = document.getElementById("parent-email").value.trim();
      const phoneNumberOnly = document.getElementById("phone-number-only").value.trim();

      if (!phoneNumberOnly || !childName || !grade || !parentName || !parentEmail) {
        showError("Please complete all fields on this step.");
        return;
      }

      const phoneCountryCode = "+" + iti.getSelectedCountryData().dialCode;
      const ipInfo = await fetch("https://ipapi.co/json/").then(r => r.json()).catch(() => null);

      const insertPayload = {
        child_name: childName,
        child_grade: grade,
        parent_name: parentName,
        parent_email: parentEmail,
        phone_country_code: phoneCountryCode,
        phone_number: phoneNumberOnly,
        has_laptop: hasLaptop,
        lang: "english",
        page_completed: 1,
        ip_address: ipInfo?.ip ?? null,
        city: ipInfo?.city ?? null,
        country: ipInfo?.country_name ?? null,
        timezone: ipInfo?.timezone ?? null
      };

      const { data, error } = await supabase.from("demo_leads").insert(insertPayload).select().maybeSingle();

      if (error || !data) {
        console.error(error);
        showError("Unable to save your details. Please try again in a moment.");
        return;
      }

      leadRow = data;
      await loadSlots();
      setStep(2);
    });

    // ---------- Load slots for STEP 2 ----------
    let slots = [];

    async function loadSlots() {
      // Get next 6 days of slots from demo_slots_live view
      const { data, error } = await supabase
        .from("demo_slots_live")
        .select("*")
        .order("slot_datetime_local", { ascending: true })
        .limit(200);

      if (error) {
        console.error(error);
        showError("Unable to load time slots. Please refresh and try again.");
        return;
      }

      slots = data || [];
      renderDatesAndTimes();
    }

    function formatDateLabel(dateObj) {
      const dayNames = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
      const monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
      const dayName = dayNames[dateObj.getDay()];
      const date = String(dateObj.getDate()).padStart(2, "0");
      const month = monthNames[dateObj.getMonth()];
      return { dayName, date, month };
    }

    function formatTime12(dateObj) {
      let hours = dateObj.getHours();
      const minutes = dateObj.getMinutes();
      const ampm = hours >= 12 ? "PM" : "AM";
      hours = hours % 12;
      if (hours === 0) hours = 12;
      const hStr = String(hours).padStart(2, "0");
      const mStr = String(minutes).padStart(2, "0");
      return `${hStr}:${mStr} ${ampm}`;
    }

    function renderDatesAndTimes() {
      if (!slots.length) return;

      // Group slots by local date (yyyy-mm-dd)
      const byDate = new Map();
      for (const s of slots) {
        const dt = new Date(s.slot_datetime_local);
        const key = dt.toISOString().slice(0, 10);
        if (!byDate.has(key)) byDate.set(key, []);
        byDate.get(key).push(s);
      }

      const sortedDates = Array.from(byDate.keys()).sort();
      const visibleDates = sortedDates.slice(0, 5); // show today + 4 days

      const dateRow = document.getElementById("date-row");
      dateRow.innerHTML = "";
      let firstDateKey = null;
      let lastDateKey = null;

      visibleDates.forEach((key, idx) => {
        if (!firstDateKey) firstDateKey = key;
        lastDateKey = key;

        const dateObj = new Date(key + "T00:00:00");
        const { dayName, date, month } = formatDateLabel(dateObj);
        const labelPrefix = idx === 0 ? "Today" : idx === 1 ? "Tomorrow" : dayName;

        const pill = document.createElement("button");
        pill.type = "button";
        pill.className = "date-pill" + (idx === 0 ? " active" : "");
        pill.dataset.dateKey = key;
        pill.innerHTML = `<span class="label">${labelPrefix}</span><span class="value">${date} ${month}</span>`;
        dateRow.appendChild(pill);
      });

      // Set date-range-label
      if (firstDateKey && lastDateKey) {
        const start = new Date(firstDateKey + "T00:00:00");
        const end = new Date(lastDateKey + "T00:00:00");
        const { date: sDate, month: sMonth } = formatDateLabel(start);
        const { date: eDate, month: eMonth } = formatDateLabel(end);
        const label =
          sMonth === eMonth ? `${sDate}‚Äì${eDate} ${sMonth}` : `${sDate} ${sMonth} ‚Äì ${eDate} ${eMonth}`;
        document.getElementById("date-range-label").textContent = label;
      }

      // Click handlers
      document.querySelectorAll(".date-pill").forEach(el => {
        el.addEventListener("click", () => {
          document.querySelectorAll(".date-pill").forEach(p => p.classList.remove("active"));
          el.classList.add("active");
          renderTimesForDate(el.dataset.dateKey, byDate);
        });
      });

      // Initial times for first date
      if (visibleDates.length) {
        renderTimesForDate(visibleDates[0], byDate);
      }
    }

    function renderTimesForDate(dateKey, byDate) {
      const timeGrid = document.getElementById("time-grid");
      timeGrid.innerHTML = "";
      selectedSlotId = null;

      const slotList = byDate.get(dateKey) || [];
      slotList.forEach(slot => {
        const dt = new Date(slot.slot_datetime_local);
        const label = formatTime12(dt);
        const pill = document.createElement("button");
        pill.type = "button";
        pill.className = "time-pill";
        pill.dataset.slotId = slot.slot_id;
        pill.innerHTML = `
          <div class="time-main-row">
            <span class="time">${label}</span>
            ${slot.is_star_teacher ? `<span class="tag"><span class="star">‚≠ê</span> Star teacher</span>` : ""}
          </div>
          <span class="meta">1:1 live class ¬∑ 60 mins</span>
        `;
        timeGrid.appendChild(pill);
      });

      document.querySelectorAll(".time-pill").forEach(el => {
        el.addEventListener("click", () => {
          document.querySelectorAll(".time-pill").forEach(p => p.classList.remove("active"));
          el.classList.add("active");
          selectedSlotId = el.dataset.slotId;
        });
      });
    }

    // Language select
    document.getElementById("language-row").addEventListener("click", e => {
      const pill = e.target.closest(".language-pill");
      if (!pill) return;
      selectedLanguage = pill.dataset.lang;
      document.querySelectorAll(".language-pill").forEach(p => p.classList.remove("active"));
      pill.classList.add("active");
    });

    // ---------- Step 2 SUBMIT ----------
    document.getElementById("btn-step-2").addEventListener("click", async () => {
      if (!leadRow) {
        showError("Something went wrong. Please refresh and try again.");
        return;
      }
      if (!selectedSlotId) {
        showError("Please select a date and time for the class.");
        return;
      }

      const { error } = await supabase
        .from("demo_leads")
        .update({
          slot_id: selectedSlotId,
          lang: selectedLanguage,
          page_completed: 2
        })
        .eq("id", leadRow.id);

      if (error) {
        console.error(error);
        showError("Unable to save your selected time. Please try again.");
        return;
      }

      showSuccess("Great! Final quick step to personalise your class.");
      setStep(3);
    });

    // ---------- Step 3 choices & SUBMIT ----------
    let whoAreYou = null;
    let bookingReason = null;
    let purchaseTimeline = null;

    function setupChoiceRow(rowId, setter) {
      const row = document.getElementById(rowId);
      row.addEventListener("click", e => {
        const pill = e.target.closest(".choice-pill");
        if (!pill) return;
        row.querySelectorAll(".choice-pill").forEach(p => p.classList.remove("active"));
        pill.classList.add("active");
        setter(pill.dataset.value);
      });
    }

    setupChoiceRow("who-row", val => (whoAreYou = val));
    setupChoiceRow("reason-row", val => (bookingReason = val));
    setupChoiceRow("timeline-row", val => (purchaseTimeline = val));

    document.getElementById("btn-step-3").addEventListener("click", async () => {
      if (!leadRow) {
        showError("Something went wrong. Please refresh and try again.");
        return;
      }
      const { error } = await supabase
        .from("demo_leads")
        .update({
          who_are_you: whoAreYou,
          booking_reason: bookingReason,
          purchase_timeline: purchaseTimeline,
          page_completed: 3
        })
        .eq("id", leadRow.id);

      if (error) {
        console.error(error);
        showError("Unable to save your answers. Please try again.");
        return;
      }

      showSuccess("All set! Your demo class is booked.");
      // TODO: redirect to confirmation page
    });

  </script>
</body>
</html>
