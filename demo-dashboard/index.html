<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Unischooly | Demo Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Supabase JS -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <!-- Lottie for animations (projects section) -->
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>

  <style>
    :root {
      --bg-main: #050816;
      --bg-card: #0a0f25;
      --bg-soft: #0f1633;
      --bg-chip: #111831;
      --border-soft: rgba(255,255,255,0.08);
      --border-strong: rgba(255,255,255,0.16);
      --primary: #ff6ac1; /* from winter camp CTA gradient */
      --primary-2: #ffb347;
      --primary-soft: rgba(255,106,193,0.16);
      --accent-green: #3dd68c;
      --accent-gold: #ffd66b;
      --accent-red: #ff5c7a;
      --text-main: #f7f3ff;
      --text-sub: #a4a8d5;
      --text-muted: #6b6f92;
      --radius-lg: 22px;
      --radius-md: 16px;
      --radius-pill: 999px;
      --shadow-soft: 0 22px 50px rgba(0,0,0,0.75);
      --shadow-chip: 0 10px 24px rgba(0,0,0,0.6);
      --transition-fast: 0.16s ease-out;
      --transition-med: 0.22s ease-out;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", sans-serif;
      background:
        radial-gradient(circle at top left, #1a103b 0, transparent 45%),
        radial-gradient(circle at bottom right, #120c33 0, transparent 55%),
        #050816;
      color: var(--text-main);
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    .page-shell {
      max-width: 1200px;
      margin: 0 auto;
      padding: 18px 14px 36px;
    }

    @media (min-width: 900px) {
      .page-shell {
        padding: 26px 24px 48px;
      }
    }

    /* HEADER BAR */
    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
      margin-bottom: 18px;
    }

    .top-logo {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .top-logo img {
      height: 32px;
    }

    .top-pill {
      padding: 8px 14px;
      border-radius: var(--radius-pill);
      border: 1px solid rgba(61, 214, 140, 0.4);
      background: radial-gradient(circle at 0 0, rgba(61,214,140,0.28), transparent 60%),
                  rgba(6, 18, 40, 0.95);
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-size: 13px;
      color: #e7fff2;
      box-shadow: var(--shadow-chip);
    }

    .top-pill-emoji {
      font-size: 18px;
    }

    /* MAIN FLEX LAYOUT SECTION 2 */
    .hero-grid {
      display: grid;
      grid-template-columns: minmax(0, 1.1fr);
      gap: 16px;
      align-items: flex-start;
      margin-bottom: 32px;
    }

    @media (min-width: 980px) {
      .hero-grid {
        grid-template-columns: minmax(0, 1.1fr) minmax(0, 0.9fr);
        gap: 20px;
      }
    }

    /* TRIAL PASS CARD */
    .pass-and-schedule {
      background: radial-gradient(circle at top left, rgba(255,106,193,0.24), transparent 60%),
                  radial-gradient(circle at bottom right, rgba(255,179,71,0.18), transparent 55%),
                  var(--bg-soft);
      border-radius: var(--radius-lg);
      border: 1px solid var(--border-soft);
      padding: 16px 16px 18px;
      box-shadow: var(--shadow-soft);
      position: relative;
      overflow: hidden;
    }

    .pass-glow {
      position: absolute;
      inset: -80px;
      background:
        radial-gradient(circle at 0 0, rgba(255,255,255,0.08), transparent 55%),
        radial-gradient(circle at 100% 100%, rgba(255,255,255,0.06), transparent 55%);
      opacity: 0.45;
      pointer-events: none;
    }

    .pass-inner-grid {
      position: relative;
      display: grid;
      grid-template-columns: minmax(0,1.1fr);
      gap: 14px;
      z-index: 1;
    }

    @media (min-width: 780px) {
      .pass-inner-grid {
        grid-template-columns: minmax(0,1.1fr) minmax(0, 1fr);
        gap: 18px;
      }
    }

    .ticket-card {
      position: relative;
      background: linear-gradient(135deg, #1e1235, #120e2a);
      border-radius: 28px;
      padding: 14px 16px 16px;
      border: 1px solid rgba(255,255,255,0.18);
      box-shadow: 0 18px 40px rgba(0,0,0,0.85);
      overflow: hidden;
      cursor: default;
      transform-origin: center;
      transition: transform var(--transition-med), box-shadow var(--transition-med), border-color var(--transition-med);
    }

    .ticket-card::before,
    .ticket-card::after {
      content: "";
      position: absolute;
      top: 50%;
      width: 18px;
      height: 40%;
      border-radius: 999px;
      background: #050816;
      border: 1px solid rgba(255,255,255,0.16);
      transform: translateY(-50%);
    }
    .ticket-card::before { left: -9px; }
    .ticket-card::after { right: -9px; }

    .ticket-card:hover {
      transform: translateY(-4px) scale(1.01);
      box-shadow: 0 26px 60px rgba(0,0,0,0.9);
      border-color: rgba(255,179,71,0.9);
    }

    .ticket-header {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      padding: 6px 10px;
      margin-bottom: 10px;
      border-radius: var(--radius-pill);
      background: linear-gradient(135deg, #ffefba, #ffc857);
      color: #3a2b05;
      font-weight: 700;
      font-size: 13px;
      letter-spacing: 0.05em;
      text-transform: uppercase;
    }

    .ticket-header span:first-child {
      font-size: 18px;
    }

    .ticket-body {
      display: grid;
      grid-template-columns: minmax(0,1fr);
      gap: 10px;
      margin-bottom: 4px;
    }

    @media (min-width: 640px) {
      .ticket-body {
        grid-template-columns: minmax(0,1.1fr) minmax(0,1.1fr);
      }
    }

    .ticket-col-title {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--accent-gold);
      margin-bottom: 4px;
    }

    .ticket-line {
      font-size: 13px;
      color: #e8e3ff;
      margin-bottom: 4px;
    }

    .ticket-label {
      font-weight: 500;
      color: var(--text-muted);
      margin-right: 4px;
    }

    .ticket-highlight {
      font-weight: 600;
      color: #ffffff;
    }

    .ticket-valid {
      margin-top: 6px;
      font-size: 11px;
      padding: 4px 10px;
      display: inline-flex;
      border-radius: var(--radius-pill);
      border: 1px dashed rgba(255,255,255,0.35);
      color: #fefaf1;
      background: rgba(10,3,25,0.8);
    }

    .ticket-powered {
      margin-top: 10px;
      font-size: 10px;
      color: var(--text-muted);
      text-align: center;
    }

    .ticket-powered span {
      font-weight: 600;
      color: #ffffff;
    }

    /* CLASS SCHEDULE CARD */
    .schedule-card {
      background: rgba(5,7,22,0.94);
      border-radius: 22px;
      padding: 12px 14px 14px;
      border: 1px solid rgba(255,255,255,0.12);
      box-shadow: var(--shadow-soft);
    }

    .schedule-label-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 6px;
      gap: 6px;
    }

    .schedule-tag {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: var(--radius-pill);
      background: radial-gradient(circle at 0 0, rgba(61,214,140,0.32), transparent 60%),
                  rgba(6,18,40,1);
      font-size: 11px;
      color: #e6fff2;
    }

    .schedule-tag span:first-child { font-size: 15px; }

    .schedule-heading {
      font-size: 15px;
      font-weight: 600;
    }

    .schedule-sub {
      font-size: 12px;
      color: var(--text-sub);
      margin-bottom: 8px;
    }

    .schedule-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 10px;
    }

    .schedule-pill {
      flex: 1;
      min-width: 120px;
      padding: 8px 10px;
      border-radius: 14px;
      border: 1px solid var(--border-strong);
      background: radial-gradient(circle at 0 0, rgba(255,255,255,0.06), transparent 60%),
                  rgba(8,10,32,0.96);
      display: flex;
      gap: 8px;
      align-items: center;
    }

    .schedule-pill-icon {
      width: 26px;
      height: 26px;
      border-radius: 999px;
      background: rgba(255,255,255,0.08);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 15px;
    }

    .schedule-pill-main {
      font-size: 13px;
      font-weight: 600;
    }

    .schedule-pill-sub {
      font-size: 11px;
      color: var(--text-muted);
    }

    .calendar-btn {
      margin-top: 4px;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 14px;
      border-radius: var(--radius-pill);
      border: none;
      cursor: pointer;
      background: linear-gradient(135deg, var(--primary), var(--primary-2));
      color: #fff;
      font-weight: 600;
      font-size: 13px;
      box-shadow: 0 14px 32px rgba(0,0,0,0.6);
      position: relative;
      overflow: hidden;
    }

    .calendar-btn::after {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(120deg, rgba(255,255,255,0.1), transparent 40%, transparent 60%, rgba(255,255,255,0.16));
      transform: translateX(-100%);
      animation: shimmer 2.4s infinite;
    }

    @keyframes shimmer {
      0% { transform: translateX(-120%); }
      60% { transform: translateX(120%); }
      100% { transform: translateX(120%); }
    }

    .calendar-dropdown {
      margin-top: 8px;
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      font-size: 11px;
      color: var(--text-sub);
    }

    .calendar-link-pill {
      padding: 4px 9px;
      border-radius: var(--radius-pill);
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(8,10,28,0.95);
      cursor: pointer;
    }

    .calendar-link-pill:hover {
      border-color: rgba(255,255,255,0.22);
    }

    /* FUN FACTS */
    .fun-facts-box {
      margin-top: 14px;
      padding-top: 12px;
      border-top: 1px dashed rgba(255,255,255,0.16);
    }

    .fun-facts-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      margin-bottom: 6px;
    }

    .fun-facts-title {
      font-size: 13px;
      font-weight: 600;
    }

    .fun-facts-title span {
      color: var(--accent-gold);
    }

    .fun-nav {
      display: inline-flex;
      gap: 4px;
    }

    .fun-nav button {
      width: 22px;
      height: 22px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.3);
      background: rgba(8,10,28,0.95);
      cursor: pointer;
      color: #fff;
      font-size: 11px;
    }

    .fun-nav button:hover {
      background: rgba(255,255,255,0.08);
    }

    .fun-fact-text {
      font-size: 12px;
      color: var(--text-sub);
      min-height: 40px;
    }

    /* RIGHT COLUMN: COUNTDOWN & TERMS & PUZZLE */
    .right-column {
      background: radial-gradient(circle at 0 0, rgba(255,106,193,0.24), transparent 55%),
                  radial-gradient(circle at 100% 100%, rgba(84,214,255,0.2), transparent 55%),
                  var(--bg-card);
      border-radius: var(--radius-lg);
      border: 1px solid var(--border-soft);
      padding: 16px 16px 18px;
      box-shadow: var(--shadow-soft);
    }

    .welcome-heading {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 2px;
    }

    .welcome-heading span {
      color: var(--accent-gold);
    }

    .welcome-subtitle {
      font-size: 13px;
      color: var(--text-sub);
      margin-bottom: 12px;
    }

    .countdown-card {
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,0.18);
      background: rgba(6,12,36,0.96);
      padding: 10px 12px;
      margin-bottom: 10px;
    }

    .countdown-label {
      font-size: 12px;
      color: var(--text-sub);
      margin-bottom: 4px;
    }

    .countdown-row {
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }

    .countdown-time {
      display: flex;
      gap: 6px;
      font-family: "SF Mono", ui-monospace, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 17px;
      font-weight: 600;
    }

    .countdown-segment {
      min-width: 48px;
      text-align: center;
      padding: 6px 8px;
      border-radius: 12px;
      background: radial-gradient(circle at 0 0, rgba(255,255,255,0.12), transparent 60%),
                  rgba(10,16,48,1);
    }

    .countdown-label-small {
      font-size: 9px;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.12em;
      margin-top: 2px;
    }

    .join-btn {
      margin-left: auto;
      padding: 8px 14px;
      border-radius: var(--radius-pill);
      border: none;
      background: linear-gradient(135deg, var(--primary), var(--primary-2));
      color: #fff;
      font-weight: 600;
      font-size: 13px;
      cursor: pointer;
      box-shadow: 0 14px 30px rgba(0,0,0,0.7);
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .join-btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      box-shadow: none;
    }

    .terms-text {
      font-size: 11px;
      color: var(--text-muted);
      margin-bottom: 10px;
    }

    .terms-link {
      color: #ffd66b;
      text-decoration: underline;
      cursor: pointer;
    }

    .puzzle-card {
      border-radius: 18px;
      border: 1px dashed rgba(255,255,255,0.22);
      background: rgba(7,13,40,0.95);
      padding: 10px 12px;
    }

    .puzzle-title {
      font-size: 13px;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .puzzle-body {
      font-size: 12px;
      color: var(--text-sub);
      margin-bottom: 6px;
    }

    .puzzle-input-row {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }

    .puzzle-input-row input {
      flex: 1;
      min-width: 120px;
      border-radius: var(--radius-pill);
      border: 1px solid rgba(255,255,255,0.24);
      background: rgba(3,8,30,0.95);
      padding: 6px 10px;
      color: #fff;
      font-size: 12px;
    }

    .puzzle-input-row button {
      padding: 6px 12px;
      border-radius: var(--radius-pill);
      border: none;
      background: rgba(255,255,255,0.12);
      color: #fff;
      font-size: 12px;
      cursor: pointer;
    }

    .puzzle-result {
      margin-top: 4px;
      font-size: 11px;
      color: var(--accent-green);
    }

    /* MODAL */
    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(5,6,23,0.85);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 50;
    }

    .modal-backdrop.visible {
      display: flex;
    }

    .modal-card {
      max-width: 560px;
      width: 92%;
      background: #070b21;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,0.14);
      box-shadow: 0 26px 60px rgba(0,0,0,0.9);
      padding: 16px 18px 14px;
      color: var(--text-main);
    }

    .modal-title {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .modal-subtitle {
      font-size: 12px;
      color: var(--text-sub);
      margin-bottom: 10px;
    }

    .modal-list {
      padding-left: 18px;
      font-size: 12px;
      color: var(--text-sub);
    }

    .modal-list li {
      margin-bottom: 6px;
    }

    .modal-close-row {
      display: flex;
      justify-content: flex-end;
      margin-top: 10px;
    }

    .modal-close-btn {
      padding: 6px 12px;
      border-radius: var(--radius-pill);
      border: none;
      background: rgba(255,255,255,0.12);
      color: #fff;
      cursor: pointer;
      font-size: 12px;
    }

    /* SECTION 3‚Äì8 PLACEHOLDER WRAPPER
       We'll just stack your existing sections below hero.
       They each bring their own IDs and styles.
    */
    .section-stack {
      margin-top: 26px;
      display: flex;
      flex-direction: column;
      gap: 24px;
    }

    /* Student projects, testimonials, instructors, animation, FAQs, footer
       CSS pasted as-is from your files but slightly namespaced where needed.
    */

    /* ==== SECTION 3: PROJECTS BY KIDS (from file) ==== */
    #student-projects-section {
      padding: 40px 16px 32px;
      margin: 0 -16px;
      background: radial-gradient(circle at 0 0, rgba(255,255,255,0.03), transparent 60%),
                  rgba(8,10,32,0.95);
    }

    @media (min-width: 900px) {
      #student-projects-section {
        margin: 0;
        border-radius: 24px;
      }
    }

    .projects-inner {
      max-width: 1100px;
      margin: 0 auto;
      position: relative;
      z-index: 1;
    }

    .projects-header {
      text-align: center;
      margin-bottom: 24px;
    }

    .projects-kicker {
      font-size: 13px;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: var(--accent-gold);
      margin-bottom: 6px;
    }

    .projects-title {
      font-size: 26px;
      font-weight: 700;
      margin-bottom: 6px;
    }

    .projects-subtitle {
      font-size: 13px;
      color: var(--text-sub);
    }

    .projects-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0,1fr));
      gap: 16px;
    }

    @media (max-width: 900px) {
      .projects-grid {
        grid-template-columns: repeat(2, minmax(0,1fr));
      }
    }
    @media (max-width: 640px) {
      .projects-grid {
        grid-template-columns: minmax(0,1fr);
      }
    }

    .project-card {
      position: relative;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,0.14);
      background: radial-gradient(circle at 0 0, rgba(255,255,255,0.06), transparent 55%),
                  rgba(5,8,30,0.96);
      padding: 12px 12px 14px;
      box-shadow: 0 18px 40px rgba(0,0,0,0.8);
      overflow: hidden;
    }

    .project-tag {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 9px;
      border-radius: var(--radius-pill);
      background: rgba(0,0,0,0.35);
      font-size: 10px;
      color: #f5f3ff;
      margin-bottom: 8px;
    }

    .project-img {
      width: 100%;
      border-radius: 12px;
      margin-bottom: 8px;
    }

    .project-title {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 2px;
    }

    .project-meta {
      font-size: 11px;
      color: var(--text-muted);
    }

    /* ==== SECTION 4,5,6,7,8:
       To keep this response shorter, I'm only including minimal layout shells.
       You can paste your full CSS from earlier snippets inside these blocks
       later if you want pixel-perfect parity.
    */

    .generic-section-card {
      border-radius: 22px;
      border: 1px solid var(--border-soft);
      background: rgba(6,10,32,0.96);
      padding: 18px 16px 20px;
      box-shadow: var(--shadow-soft);
    }

    .generic-section-title {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .generic-section-sub {
      font-size: 13px;
      color: var(--text-sub);
      margin-bottom: 10px;
    }

    /* FOOTER SIMPLE */
    .footer {
      margin-top: 18px;
      font-size: 11px;
      color: var(--text-muted);
      text-align: center;
    }

  
/* ===== Unischooly overrides (auto-fix) ===== */
#student-projects-section, #student-projects-section * { box-sizing: border-box; }
#student-projects-section { background: transparent !important; }
#testimonials-section, #testimonials-section * { box-sizing: border-box; }
#testimonials-section { background: transparent !important; }
#faq-section { background: transparent !important; }
.uni-fullbleed { width: 100vw !important; max-width: 100vw !important; margin-left: calc(50% - 50vw) !important; margin-right: calc(50% - 50vw) !important; }
footer, .footer, #footer, .site-footer { width: 100vw !important; max-width: 100vw !important; }
body { background: radial-gradient(1200px 600px at 80% 10%, rgba(80,120,255,.18), transparent 60%), radial-gradient(1000px 500px at 10% 80%, rgba(90,240,190,.14), transparent 60%), #060A14 !important; }

</style>
</head>
<body>
  <div class="page-shell">
    <!-- HEADER -->
    <header class="top-bar">
      <div class="top-logo">
        <img src="https://res.cloudinary.com/dpapyknn4/image/upload/v1763143023/Unischooly_Horizontal_logo_qbu1l7.svg" alt="Unischooly logo" />
      </div>
      <div class="top-pill">
        <span class="top-pill-emoji">‚úÖ</span>
        <span>Your trial class is locked in!</span>
      </div>
    </header>

    <!-- SECTION 2: MAIN HERO -->
    <section class="hero-grid">
      <!-- LEFT: PASS + SCHEDULE + FUN FACTS -->
      <div class="pass-and-schedule">
        <div class="pass-glow"></div>
        <div class="pass-inner-grid">
          <!-- Ticket / Profile card -->
          <div class="ticket-card" id="ticketCard">
            <div class="ticket-header">
              <span>üé´</span>
              <span>Official Free Trial Pass</span>
              <span>[Value: $30 ‚Äì Waived]</span>
            </div>
            <div class="ticket-body">
              <div>
                <div class="ticket-col-title">Admit one student</div>
                <div class="ticket-line">
                  <span class="ticket-label">Name:</span>
                  <span class="ticket-highlight" id="studentName">Student Name</span>
                </div>
                <div class="ticket-line">
                  <span class="ticket-label">Current Grade:</span>
                  <span class="ticket-highlight" id="studentGrade">Grade</span>
                </div>
                <div class="ticket-line">
                  <span class="ticket-label">Course:</span>
                  <span class="ticket-highlight" id="courseNameLabel">Coding Trial Class</span>
                </div>
              </div>
              <div>
                <div class="ticket-col-title">Parent confirmation</div>
                <div class="ticket-line">
                  <span class="ticket-label">Sent to:</span>
                  <span class="ticket-highlight" id="parentName">Parent Name</span>
                </div>
                <div class="ticket-line">
                  <span class="ticket-label">Cell:</span>
                  <span class="ticket-highlight" id="parentPhone">+91 0000000000</span>
                </div>
                <div class="ticket-line">
                  <span class="ticket-label">Email:</span>
                  <span class="ticket-highlight" id="parentEmail">parent@email.com</span>
                </div>
                <div class="ticket-valid">Valid for 1 Live Session</div>
              </div>
            </div>
            <div class="ticket-powered">
              Powered by <span>Unischooly</span>
            </div>
          </div>

          <!-- Schedule -->
          <div class="schedule-card">
            <div class="schedule-label-row">
              <div class="schedule-tag">
                <span>üöÄ</span>
                <span>Ready for blast off!</span>
              </div>
            </div>
            <div class="schedule-heading">Class Schedule</div>
            <div class="schedule-sub">Your personalised live class is all set. Here are your details:</div>

            <div class="schedule-row">
              <div class="schedule-pill">
                <div class="schedule-pill-icon">üìÖ</div>
                <div>
                  <div class="schedule-pill-main" id="classDateLabel">Thu ‚Ä¢ 12 Dec</div>
                  <div class="schedule-pill-sub" id="classDateSub">Local date</div>
                </div>
              </div>
              <div class="schedule-pill">
                <div class="schedule-pill-icon">‚è∞</div>
                <div>
                  <div class="schedule-pill-main" id="classTimeLabel">05:00 PM</div>
                  <div class="schedule-pill-sub" id="classTimeSub">Local time ‚Ä¢ Timezone</div>
                </div>
              </div>
            </div>

            <button class="calendar-btn" id="calendarBtn">
              <span>üìÜ</span>
              <span>Initiate Calendar Sync</span>
            </button>
            <div class="calendar-dropdown" id="calendarDropdown">
              <!-- Links filled by JS -->
            </div>

            <div class="fun-facts-box">
              <div class="fun-facts-header">
                <div class="fun-facts-title">
                  Did you know? <span id="funCourseLabel">Coding</span> fun fact
                </div>
                <div class="fun-nav">
                  <button id="funPrev">‚Äπ</button>
                  <button id="funNext">‚Ä∫</button>
                </div>
              </div>
              <div class="fun-fact-text" id="funFactText">
                Loading something cool for your child‚Ä¶
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- RIGHT: COUNTDOWN & TERMS & PUZZLE -->
      <div class="right-column">
        <div class="welcome-heading">
          Welcome to <span id="welcomeName">your child‚Äôs</span> <span id="welcomeCourse">Coding</span> Trial Class
        </div>
        <div class="welcome-subtitle">
          Keep this page open ‚Äî everything you need before class is right here.
        </div>

        <div class="countdown-card">
          <div class="countdown-label">Join class in</div>
          <div class="countdown-row">
            <div class="countdown-time">
              <div class="countdown-segment">
                <div id="cdDays">0</div>
                <div class="countdown-label-small">Days</div>
              </div>
              <div class="countdown-segment">
                <div id="cdHours">0</div>
                <div class="countdown-label-small">Hours</div>
              </div>
              <div class="countdown-segment">
                <div id="cdMinutes">0</div>
                <div class="countdown-label-small">Minutes</div>
              </div>
              <div class="countdown-segment">
                <div id="cdSeconds">0</div>
                <div class="countdown-label-small">Seconds</div>
              </div>
            </div>

            <button class="join-btn" id="joinClassBtn">
              <span>‚ñ∂</span>
              <span>Join Class</span>
            </button>
          </div>
        </div>

        <div class="terms-text">
          By clicking join class, you are confirming that you have read, understood and agree to
          <span class="terms-link" id="openTerms">Terms &amp; Conditions</span>.
        </div>

        <div class="puzzle-card">
          <div class="puzzle-title">Sharpen your brain (kid-friendly coding puzzle)</div>
          <div class="puzzle-body" id="puzzleText">
            A robot starts at 0 and can move +2 or -1 each step. What is the minimum number of steps to reach 7?
          </div>
          <div class="puzzle-input-row">
            <input type="number" id="puzzleAnswer" placeholder="Type your answer" />
            <button id="puzzleCheck">Check</button>
          </div>
          <div class="puzzle-result" id="puzzleResult"></div>
        </div>
      </div>
    </section>

    <!-- MODAL -->
    <div class="modal-backdrop" id="termsModal">
      <div class="modal-card">
        <div class="modal-title">Terms &amp; Conditions</div>
        <div class="modal-subtitle">
          Please keep these video conferencing etiquette tips in mind so you know what NOT to do during your demo / trial class:
        </div>
        <ul class="modal-list">
          <li>By taking this demo / trial session, you consent to Unischooly / Company recording this session.</li>
          <li>This demo / trial session or class will be recorded for the whole duration for training, constant process improvement, and audit purposes.</li>
          <li>Unischooly / Company adheres to zero tolerance towards sexual, non-sexual, verbal and visual abuse. Inappropriate hand gestures, threats, or any other indecent behaviour captured or reported during the session shall also be considered a violation of the Company‚Äôs internal policies.</li>
          <li>While taking the demo / trial session, kindly avoid clothing with controversial messages, including but not limited to racial and/or religious slurs or any type of sexual or non-sexual abuse.</li>
        </ul>
        <div class="modal-close-row">
          <button class="modal-close-btn" id="closeTerms">Close</button>
        </div>
      </div>
    </div>

    <!-- SECTION STACK: simple shells for now -->
    <div class="section-stack">
      <section id="student-projects-section">
        <div class="projects-inner">
          <div class="projects-header">
            <div class="projects-kicker">Student projects</div>
            <div class="projects-title">See what kids build with Unischooly</div>
            <div class="projects-subtitle">Real projects from real learners across the world.</div>
          </div>
          <div class="projects-grid">
            <article class="project-card">
              <div class="project-tag">üéÆ Game ‚Ä¢ Grade 4</div>
              <img class="project-img" src="https://res.cloudinary.com/dpapyknn4/image/upload/v1763736025/game1_vqkcoe.png" alt="Student project 1" />
              <div class="project-title">Space Runner with power-ups</div>
              <div class="project-meta">Built in Scratch by Aarav (India).</div>
            </article>
            <article class="project-card">
              <div class="project-tag">üß† AI ‚Ä¢ Grade 7</div>
              <img class="project-img" src="https://res.cloudinary.com/dpapyknn4/image/upload/v1763736025/ai1_kx2o7a.png" alt="Student project 2" />
              <div class="project-title">Mood-based music recommender</div>
              <div class="project-meta">Built in Python by Amira (UAE).</div>
            </article>
            <article class="project-card">
              <div class="project-tag">üåê Web ‚Ä¢ Grade 6</div>
              <img class="project-img" src="https://res.cloudinary.com/dpapyknn4/image/upload/v1763736025/web1_ozqwhv.png" alt="Student project 3" />
              <div class="project-title">Pet adoption landing page</div>
              <div class="project-meta">Built with HTML &amp; CSS by Liam (USA).</div>
            </article>
          </div>
        </div>
      </section>

      <section class="generic-section-card" id="testimonialsSection">
        <div class="generic-section-title">Hear from our happy learners &amp; parents</div>
        <div class="generic-section-sub">
          We‚Äôll plug in your existing testimonials layout here later ‚Äî this is a placeholder container.
        </div>
      </section>

      <section class="generic-section-card" id="instructorsSection">
        <div class="generic-section-title">Our global team of instructors</div>
        <div class="generic-section-sub">
          Your detailed instructor grid will sit here. For now this keeps the structure ready.
        </div>
      </section>

      <section class="generic-section-card" id="animationSection">
        <div class="generic-section-title">Tiny Mario-style animation</div>
        <div class="generic-section-sub">
          This section will contain your existing animation block to keep kids engaged while they wait.
        </div>
      </section>

      <section class="generic-section-card" id="faqSection">
        <div class="generic-section-title">Frequently asked questions</div>
        <div class="generic-section-sub">
          We‚Äôll integrate your full FAQ accordion design here in the next polish pass.
        </div>
      </section>

      <div class="footer">
        ¬© <span id="footerYear"></span> Unischooly. All rights reserved.
      </div>
    </div>
  </div>

  <script>
    // SUPABASE CLIENT
    const SUPABASE_URL = "https://binklfyiypbhuzsvnlzg.supabase.co";
    const SUPABASE_ANON = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJpbmtsZnlpeXBiaHV6c3ZubHpnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUwMzA5NjgsImV4cCI6MjA4MDYwNjk2OH0.PYCRN7ubQA2XnVy8BYd6746iAGATjBuBAlvsCdLdbqw";
    const supa = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON);

    // COURSE LABELS + FUN FACTS
    const COURSE_LABELS = {
      1: "Coding",
      2: "Python",
      3: "Website Development",
      4: "Generative AI",
      5: "Roblox",
      6: "Chess",
      7: "Mathematics"
    };

    const FUN_FACTS = {
      1: [
        "The first computer game, Spacewar!, was created by students at MIT in 1962 ‚Äî long before PlayStations existed.",
        "Every button tap in a game triggers tiny lines of code that run in less than a blink of an eye.",
        "Popular games like Minecraft and Roblox are powered by thousands of lines of code working together.",
        "Coding is like giving super-precise instructions to a very literal robot ‚Äî it does exactly what you say, not what you meant.",
        "Many kids start coding before age 10 and build real apps by their early teens.",
        "Your favourite emojis are actually represented as numbers called Unicode under the hood.",
        "Bugs in code sometimes cause hilarious glitches ‚Äî like flying cows or upside‚Äëdown worlds in games.",
        "Learning coding improves logical thinking and problem‚Äësolving, even in math and science.",
        "Websites you use every day (YouTube, Google, Instagram) are built using languages like JavaScript, HTML & CSS.",
        "Once you know the basics of coding, you can build games, apps, chatbots and even control robots."
      ],
      2: [
        "Python was named after the comedy group Monty Python, not the snake.",
        "NASA has used Python for tasks like controlling space equipment and analysing data.",
        "Python reads almost like English, which makes it perfect as a first programming language.",
        "Big apps like Instagram, Spotify and Netflix rely heavily on Python behind the scenes.",
        "Python can be used for everything from websites and games to AI and data science.",
        "Many AI tools and chatbots are prototyped in Python before going live.",
        "Python‚Äôs logo has two snakes, but the language is friendly and great for kids.",
        "Data scientists love Python because it makes huge numbers and charts much easier to handle.",
        "With Python, you can automate boring tasks like renaming hundreds of files in seconds.",
        "Python is one of the most in‚Äëdemand languages in tech jobs worldwide."
      ],
      3: [
        "Every webpage you see is built using at least HTML and CSS ‚Äî the basic building blocks of the web.",
        "More than 1.5 billion websites exist on the internet, and new ones launch every second.",
        "A good landing page can decide whether someone clicks ‚ÄúBuy now‚Äù or closes the tab.",
        "Responsive design makes the same website look great on phones, tablets and laptops.",
        "Colour psychology is used in web design ‚Äî for example, green buttons often signal safety or success.",
        "The first website ever created is still online today and explains what the World Wide Web is.",
        "Modern websites often load fonts, animations and icons from servers all over the world.",
        "Good UI/UX design can make apps feel almost invisible ‚Äî you focus on the task, not the tool.",
        "Web developers often test their pages on many browsers to ensure everything looks consistent.",
        "With web skills, you can create portfolios, shops, blogs and tools entirely in your browser."
      ],
      4: [
        "Generative AI can create images, music and stories from just a few words of instruction.",
        "AI doesn‚Äôt think like humans; it looks for patterns in huge amounts of data.",
        "Chatbots like this one are powered by large language models trained on billions of sentences.",
        "Kids can use AI to brainstorm ideas, debug code or even design game levels.",
        "AI can generate hundreds of logo ideas in seconds for a brand like Unischooly.",
        "Responsible AI includes checking outputs for bias, fairness and accuracy.",
        "AI image tools turn text prompts into artwork ‚Äì a new way to 'paint with words'.",
        "Many video platforms use AI to recommend the next video you might like.",
        "Voice assistants like Alexa and Siri use AI to understand and respond to speech.",
        "Generative AI is a co‚Äëpilot: it helps humans create faster, but humans still guide the direction."
      ],
      5: [
        "Roblox isn‚Äôt just a game ‚Äî it‚Äôs a platform where kids build their own games using code.",
        "Many teen Roblox creators have earned real money from the games they publish.",
        "Roblox uses a scripting language called Lua to power game logic.",
        "Obby (obstacle) courses in Roblox are great mini‚Äëprojects for learning game design.",
        "Good Roblox games balance difficulty so players feel challenged but not frustrated.",
        "Game passes and in‚Äëgame items on Roblox are all designed and configured by creators.",
        "Multiplayer games teach important skills like fairness, cooperation and strategy.",
        "Lighting, sound and particle effects make Roblox worlds feel more immersive.",
        "Testing your own Roblox game with friends is one of the fastest ways to improve it.",
        "Some professional studios prototype ideas in Roblox before building full‚Äëscale games."
      ],
      6: [
        "There are more possible chess games than atoms in the observable universe.",
        "The longest possible chess game with no draws can last 5,949 moves.",
        "Chess sharpens pattern recognition, planning and strategic thinking.",
        "Many world‚Äëclass chess players started learning before the age of 8.",
        "Computers now play chess stronger than any human grandmaster.",
        "Chess engines evaluate millions of positions per second.",
        "The word 'checkmate' comes from the Persian phrase 'shah mat', meaning 'the king is helpless'.",
        "Solving chess puzzles daily can significantly improve game performance.",
        "Blitz and bullet chess test quick thinking under time pressure.",
        "Learning classic games from champions teaches powerful opening and endgame ideas."
      ],
      7: [
        "Mathematics is sometimes called the 'language of the universe'.",
        "Video games, rockets, banking and music apps all rely heavily on math.",
        "Patterns, symmetry and shapes studied in math appear in nature everywhere.",
        "Algebra helps us describe unknown values ‚Äî like solving puzzles with letters.",
        "Geometry powers 3D graphics, animation and virtual reality worlds.",
        "Probability helps us understand chances in games, sports and even weather forecasts.",
        "Cryptography, used to secure messages and passwords, is advanced mathematics in action.",
        "Learning math builds persistence: tough problems teach us not to give up quickly.",
        "Many coding problems are easier to solve with strong math skills.",
        "Even AI and machine learning models are built on linear algebra and calculus."
      ]
    };

    let funFactIndex = 0;
    let currentFunFacts = FUN_FACTS[1];

    function updateFunFact() {
      if (!currentFunFacts || currentFunFacts.length === 0) return;
      const idx = ((funFactIndex % currentFunFacts.length) + currentFunFacts.length) % currentFunFacts.length;
      document.getElementById("funFactText").textContent = currentFunFacts[idx];
    }

    document.getElementById("funPrev").addEventListener("click", () => {
      funFactIndex--;
      updateFunFact();
    });
    document.getElementById("funNext").addEventListener("click", () => {
      funFactIndex++;
      updateFunFact();
    });

    setInterval(() => {
      funFactIndex++;
      updateFunFact();
    }, 8000);

    // TERMS MODAL
    const termsModal = document.getElementById("termsModal");
    document.getElementById("openTerms").addEventListener("click", () => {
      termsModal.classList.add("visible");
    });
    document.getElementById("closeTerms").addEventListener("click", () => {
      termsModal.classList.remove("visible");
    });
    termsModal.addEventListener("click", (e) => {
      if (e.target === termsModal) termsModal.classList.remove("visible");
    });

    // PUZZLE
    document.getElementById("puzzleCheck").addEventListener("click", () => {
      const val = parseInt(document.getElementById("puzzleAnswer").value, 10);
      const res = document.getElementById("puzzleResult");
      if (isNaN(val)) {
        res.style.color = "#ffd66b";
        res.textContent = "Try a number first ‚Äî even a guess is welcome!";
        return;
      }
      const correct = 5; // One optimal sequence: +2,+2,+2,+2,-1
      if (val === correct) {
        res.style.color = "#3dd68c";
        res.textContent = "Correct! Your brain is warmed up for the trial class üî•";
      } else {
        res.style.color = "#ffb347";
        res.textContent = "Nice try! Hint: aim for exactly 7 using the fewest moves of +2 and -1.";
      }
    });

    // CALENDAR SYNC (simple ICS generator)
    function createICS({ title, description, startDate }) {
      const dtStamp = new Date().toISOString().replace(/[-:]/g, "").split(".")[0] + "Z";
      const dtStart = startDate.toISOString().replace(/[-:]/g, "").split(".")[0] + "Z";

      const ics = [
        "BEGIN:VCALENDAR",
        "VERSION:2.0",
        "PRODID:-//Unischooly//Demo Class//EN",
        "BEGIN:VEVENT",
        "DTSTAMP:" + dtStamp,
        "DTSTART:" + dtStart,
        "SUMMARY:" + title,
        "DESCRIPTION:" + description,
        "END:VEVENT",
        "END:VCALENDAR"
      ].join("\\r\\n");

      return "data:text/calendar;charset=utf-8," + encodeURIComponent(ics);
    }

    function buildCalendarLinks(title, description, startDate) {
      const startISO = startDate.toISOString().replace(/[-:]/g, "").split(".")[0] + "Z";
      const endDate = new Date(startDate.getTime() + 60 * 60 * 1000);
      const endISO = endDate.toISOString().replace(/[-:]/g, "").split(".")[0] + "Z";

      const baseUrl = encodeURIComponent("https://unischooly.com");
      const text = encodeURIComponent(title);
      const details = encodeURIComponent(description);

      const googleUrl =
        "https://www.google.com/calendar/render?action=TEMPLATE&text=" + text +
        "&dates=" + startISO + "/" + endISO +
        "&details=" + details + "&location=" + baseUrl;

      const yahooUrl =
        "https://calendar.yahoo.com/?v=60&view=d&type=20&title=" + text +
        "&st=" + startISO + "&dur=0100&desc=" + details;

      const outlookUrl =
        "https://outlook.live.com/calendar/0/deeplink/compose?path=/calendar/action/compose&rru=addevent" +
        "&startdt=" + startDate.toISOString() + "&enddt=" + endDate.toISOString() +
        "&subject=" + text + "&body=" + details;

      const icsUrl = createICS({ title, description, startDate });

      const container = document.getElementById("calendarDropdown");
      container.innerHTML = "";
      const links = [
        { label: "Google Calendar", href: googleUrl },
        { label: "Yahoo", href: yahooUrl },
        { label: "Outlook.com", href: outlookUrl },
        { label: "Download .ics", href: icsUrl }
      ];
      links.forEach(l => {
        const a = document.createElement("a");
        a.href = l.href;
        a.target = "_blank";
        a.rel = "noopener noreferrer";
        a.className = "calendar-link-pill";
        a.textContent = l.label;
        container.appendChild(a);
      });
    }

    document.getElementById("calendarBtn").addEventListener("click", () => {
      const dropdown = document.getElementById("calendarDropdown");
      if (!dropdown.innerHTML.trim()) return; // filled once after data load
      dropdown.scrollIntoView({ behavior: "smooth", block: "nearest" });
    });

    // COUNTDOWN
    let classDateTime = null;
    let joinUrl = null;

    function startCountdown() {
      if (!classDateTime) return;
      const update = () => {
        const now = new Date();
        const diff = classDateTime - now;
        const cdDays = document.getElementById("cdDays");
        const cdHours = document.getElementById("cdHours");
        const cdMinutes = document.getElementById("cdMinutes");
        const cdSeconds = document.getElementById("cdSeconds");
        if (diff <= 0) {
          cdDays.textContent = "0";
          cdHours.textContent = "0";
          cdMinutes.textContent = "0";
          cdSeconds.textContent = "0";
          document.getElementById("joinClassBtn").disabled = false;
          return;
        }
        const seconds = Math.floor(diff / 1000);
        const days = Math.floor(seconds / (3600 * 24));
        const hours = Math.floor((seconds % (3600 * 24)) / 3600);
        const minutes = Math.floor((seconds % 3600) / 60);
        const secs = seconds % 60;

        cdDays.textContent = days;
        cdHours.textContent = hours;
        cdMinutes.textContent = minutes;
        cdSeconds.textContent = secs;
        document.getElementById("joinClassBtn").disabled = false; // allow even before start
      };
      update();
      setInterval(update, 1000);
    }

    document.getElementById("joinClassBtn").addEventListener("click", () => {
      if (joinUrl) {
        window.open(joinUrl, "_blank");
      } else {
        alert("Your join link will be added soon by our team. Please check back closer to class time.");
      }
    });

    // Parse URL
    function getQueryParams() {
      const url = new URL(window.location.href);
      return {
        bookingUUID: url.searchParams.get("bookingUUID"),
        courseIdFromUrl: parseInt(url.searchParams.get("courseId") || "0", 10) || null
      };
    }

    function combineDateTime(dateStr, timeStr) {
      if (!dateStr || !timeStr) return null;
      // timeStr like "05:00 PM"
      const [timePart, ampm] = timeStr.split(" ");
      let [h, m] = timePart.split(":").map(Number);
      if (ampm && ampm.toUpperCase() === "PM" && h < 12) h += 12;
      if (ampm && ampm.toUpperCase() === "AM" && h === 12) h = 0;
      const d = new Date(dateStr + "T00:00:00");
      d.setHours(h, m || 0, 0, 0);
      return d;
    }

    function formatDateForLabel(dateObj) {
      return dateObj.toLocaleDateString("en-US", {
        weekday: "short",
        day: "numeric",
        month: "short"
      });
    }

    function formatTimeForLabel(dateObj) {
      return dateObj.toLocaleTimeString("en-US", {
        hour: "numeric",
        minute: "2-digit"
      });
    }

    async function loadBooking() {
      const { bookingUUID, courseIdFromUrl } = getQueryParams();
      if (!bookingUUID) {
        document.getElementById("studentName").textContent = "Missing booking ID in URL";
        return;
      }

      const { data, error } = await supa
        .from("demo_leads")
        .select("*")
        .eq("id", bookingUUID)
        .single();

      if (error || !data) {
        document.getElementById("studentName").textContent = "We couldn‚Äôt find this booking.";
        return;
      }

      const childName = data.child_name || "Student Name";
      const grade = data.child_grade || "Grade";
      const parentName = data.parent_name || "Parent";
      const parentEmail = data.parent_email || "";
      const phoneCode = data.phone_country_code || "";
      const phoneNumber = data.phone_number || "";
      const tz = data.timezone || Intl.DateTimeFormat().resolvedOptions().timeZone;
      const courseId = data.course_id || courseIdFromUrl || 1;
      const courseLabel = COURSE_LABELS[courseId] || "Coding";

      const dateStr = data.preferred_date;
      const timeStr = data.preferred_time_slot;
      const dt = combineDateTime(dateStr, timeStr);
      classDateTime = dt;

      // Join URL (from DB if present)
      joinUrl = data.meet_link || data.zoom_link || data.google_meet_link || null;

      // Populate ticket
      document.getElementById("studentName").textContent = childName;
      document.getElementById("studentGrade").textContent = grade;
      document.getElementById("courseNameLabel").textContent = courseLabel + " Trial Class";
      document.getElementById("parentName").textContent = parentName;
      document.getElementById("parentEmail").textContent = parentEmail || "‚Äî";
      document.getElementById("parentPhone").textContent = (phoneCode + " " + phoneNumber).trim() || "‚Äî";

      document.getElementById("welcomeName").textContent = childName.split(" ")[0] + "‚Äôs";
      document.getElementById("welcomeCourse").textContent = courseLabel;

      document.getElementById("funCourseLabel").textContent = courseLabel;

      // Fun facts selection
      currentFunFacts = FUN_FACTS[courseId] || FUN_FACTS[1];
      funFactIndex = 0;
      updateFunFact();

      // Schedule labels
      if (dt) {
        document.getElementById("classDateLabel").textContent = formatDateForLabel(dt);
        document.getElementById("classDateSub").textContent = "Local date";
        document.getElementById("classTimeLabel").textContent = formatTimeForLabel(dt);
        document.getElementById("classTimeSub").textContent = "Local time ‚Ä¢ " + tz;
        buildCalendarLinks(courseLabel + " Trial Class", "Unischooly live trial class for " + childName, dt);
        startCountdown();
      } else {
        document.getElementById("classDateLabel").textContent = "Date coming soon";
        document.getElementById("classTimeLabel").textContent = "Time coming soon";
      }
    }

    document.getElementById("footerYear").textContent = new Date().getFullYear();

    loadBooking();
  </script>
</body>
</html>
