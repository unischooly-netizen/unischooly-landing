<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Unischooly | Demo Dashboard</title>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<style>
/* ================= CORE THEME ================= */
:root{
  --bg:#050816;
  --card:#0b0f24;
  --card2:#0f1633;
  --border:rgba(255,255,255,.10);
  --text:#f8f5ff;
  --sub:#a8acd0;
  --muted:#7b7fa9;
  --shadow:0 18px 40px rgba(0,0,0,.55);
  --g1:#9b5bff;
  --g2:#ff7b5f;
  --grad:linear-gradient(135deg,var(--g1),var(--g2));
  --radius:18px;
  --pill:999px;
  --t:.18s ease-out;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  color:var(--text);
  background:radial-gradient(circle at top,#211a44 0,#050816 55%,#020010 100%);
}

/* ================= PAGE ================= */
.page{max-width:1200px;margin:auto;padding:14px}

/* ================= TOP BAR ================= */
.topbar{
  display:flex;justify-content:space-between;align-items:center;
  padding:12px 14px;border-radius:22px;
  background:rgba(7,10,28,.72);border:1px solid var(--border);
}
.brand img{height:28px}

/* Animated Tick */
.locked{
  display:flex;align-items:center;gap:8px;
  padding:8px 14px;border-radius:999px;
  background:rgba(255,255,255,.06);font-weight:900;
}
.locked-icon{
  width:20px;height:20px;border-radius:50%;
  background:var(--grad);display:flex;align-items:center;justify-content:center;
  animation:pulse 2s infinite;
}
@keyframes pulse{
  0%{box-shadow:0 0 0 0 rgba(155,91,255,.6)}
  70%{box-shadow:0 0 0 8px rgba(155,91,255,0)}
  100%{box-shadow:0 0 0 0 rgba(155,91,255,0)}
}

/* ================= GRID ================= */
.grid{display:grid;grid-template-columns:1fr;gap:14px;margin-top:14px}
@media(min-width:980px){.grid{grid-template-columns:1fr 1fr}}

/* ================= CARD ================= */
.card{
  background:rgba(11,15,36,.92);
  border:1px solid var(--border);
  border-radius:26px;
  box-shadow:var(--shadow);
}
.card-inner{padding:16px}

/* ================= TICKET ================= */
.ticket{border-radius:20px;border:1px solid rgba(255,255,255,.14);overflow:hidden}
.ticket-head{padding:14px;border-bottom:1px dashed rgba(255,255,255,.18)}
.ticket-title{font-weight:1000;font-size:13px}
.ticket-body{display:grid;grid-template-columns:1fr 1fr;gap:14px;padding:14px}
.ticket-col h4{font-size:12px;margin:0 0 6px}
.kv{display:grid;grid-template-columns:90px 1fr;gap:6px;font-size:13px}
.k{color:var(--muted);font-size:11px;text-transform:uppercase}

/* EMAIL FIX */
.v{
  font-weight:800;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
  cursor:pointer;
}
.v:hover{text-decoration:underline}

/* ================= FUN FACTS ================= */
.facts{margin-top:12px;padding:12px;border-radius:18px;background:rgba(7,10,28,.72)}
.didyouknow{font-size:12px;font-weight:900;color:var(--sub)}
.divider{
  height:2px;width:100%;
  background:linear-gradient(90deg,var(--g1),var(--g2));
  opacity:.4;margin:6px 0;
  animation:glow 6s linear infinite;
}
@keyframes glow{0%{opacity:.2}50%{opacity:.6}100%{opacity:.2}}
.dots{display:flex;gap:6px}
.dot{width:6px;height:6px;border-radius:50%;background:#555}
.dot.active{background:white}

/* ================= RESCHEDULE SLOTS ================= */
.slot{
  display:flex;align-items:center;justify-content:center;gap:6px;
  padding:10px;border-radius:14px;border:1px solid rgba(255,255,255,.16);
  background:rgba(255,255,255,.06);font-weight:900;
}
.star{position:static;font-size:10px;padding:2px 6px;border-radius:999px;
  background:rgba(79,54,7,.45);border:1px solid rgba(255,222,140,.8)}

/* ================= MINI GAME FIX ================= */
.disabled{pointer-events:none;opacity:.4}

/* ================= WELCOME ================= */
.gradient-name{
  background:var(--grad);
  -webkit-background-clip:text;
  color:transparent;
}
</style>
</head>

<body>
<div class="page">

<div class="topbar">
  <div class="brand">
    <img src="https://res.cloudinary.com/dpapyknn4/image/upload/v1763143023/Unischooly_Horizontal_logo_qbu1l7.svg">
  </div>
  <div class="locked">
    <div class="locked-icon">âœ“</div>
    Your trial class is locked in!
  </div>
</div>

<div class="grid">
  <div class="card">
    <div class="card-inner">
      <div class="ticket">
        <div class="ticket-head">
          <div class="ticket-title">ðŸŽ« OFFICIAL FREE TRIAL PASS</div>
        </div>
        <div class="ticket-body">
          <div class="ticket-col">
            <h4>Admit One Student</h4>
            <div class="kv">
              <div class="k">Name</div><div class="v" id="vChild">â€”</div>
              <div class="k">Grade</div><div class="v" id="vGrade">â€”</div>
              <div class="k">Course</div><div class="v" id="vCourse">â€”</div>
            </div>
          </div>
          <div class="ticket-col">
            <h4>Parent Confirmation</h4>
            <div class="kv">
              <div class="k">Email</div>
              <div class="v" id="vEmail" title="" onclick="copyEmail()">â€”</div>
            </div>
          </div>
        </div>
      </div>

      <div class="facts">
        <div class="didyouknow">Did you know?</div>
        <div class="divider"></div>
        <div id="factText">â€”</div>
        <div class="dots">
          <div class="dot active"></div><div class="dot"></div><div class="dot"></div>
        </div>
      </div>
    </div>
  </div>

  <div class="card">
    <div class="card-inner">
      <h2>Welcome to <span class="gradient-name" id="firstName">Student</span>'s Coding Trial Class</h2>
      <div id="countdown">--:--:--</div>
    </div>
  </div>
</div>

</div>

<script>
const SUPABASE_URL="https://binklfyiypbhuzsvnlzg.supabase.co";
const SUPABASE_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJpbmtsZnlpeXBiaHV6c3ZubHpnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUwMzA5NjgsImV4cCI6MjA4MDYwNjk2OH0.PYCRN7ubQA2XnVy8BYd6746iAGATjBuBAlvsCdLdbqw";
const sb=supabase.createClient(SUPABASE_URL,SUPABASE_KEY);

const iduuid=new URL(location.href).searchParams.get("iduuid");

async function load(){
 const {data}=await sb.from("demo_leads").select("*").eq("id",iduuid).single();
 if(!data)return;
 document.getElementById("vChild").textContent=data.child_name;
 document.getElementById("vGrade").textContent=data.child_grade;
 document.getElementById("vCourse").textContent=data.course_id;
 document.getElementById("vEmail").textContent=data.parent_email;
 document.getElementById("vEmail").title=data.parent_email;
 document.getElementById("firstName").textContent=data.child_name.split(" ")[0];
}
function copyEmail(){
 navigator.clipboard.writeText(document.getElementById("vEmail").textContent);
 alert("Copied");
}
load();
</script>

</body>
</html>
